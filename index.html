<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>iComprova · Console</title>
<style>
/* (layout mantido conforme você pediu — não alterado) */
:root{
  --bg:#0b0f14;--panel:#0f1620;--panel2:#0c121a;--line:#1b2a3a;--txt:#e8eef6;
  --muted:#9ab0c6;--accent:#4fc3f7;--ok:#22c55e;--bad:#ef4444;--warn:#f59e0b;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,Segoe UI,Arial;background:var(--bg);color:var(--txt)}
.wrap{max-width:1280px;margin:0 auto;padding:28px}
.top{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.grid{display:grid;grid-template-columns:1.15fr .85fr;gap:14px}
.card{background:var(--panel);border:1px solid var(--line);border-radius:14px;overflow:hidden}
.card .head{padding:14px 16px;border-bottom:1px solid var(--line)}
.body{padding:14px 16px}
textarea{width:100%;min-height:190px;background:var(--panel2);border:1px solid var(--line);color:var(--txt);padding:12px;border-radius:12px}
button{padding:10px 14px;margin:4px;font-weight:bold;cursor:pointer}
.logs{height:520px;overflow:auto;background:var(--panel2);border:1px solid var(--line);border-radius:12px;padding:12px;font-family:monospace;font-size:12px}
@media(max-width:980px){.grid{grid-template-columns:1fr}.logs{height:360px}}
</style>
</head>
<body>
<div class="wrap">
  <div class="top">
    <h2>iComprova · Console</h2>
    <span id="status">Aguardando</span>
  </div>

  <div class="grid">
    <div class="card">
      <div class="head">Entrada</div>
      <div class="body">
        <textarea id="mdfe" placeholder="XML MDF-e"></textarea>
        <textarea id="cte" placeholder="XML CT-e"></textarea>
        <div>
          <button onclick="send('ndd_token')">Gerar Token</button>
          <button onclick="send('send_mdfe')">Enviar MDF-e</button>
          <button onclick="send('send_cte')">Enviar CT-e</button>
          <button onclick="send('send_both')">Enviar Ambos</button>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="head">Logs</div>
      <div class="body">
        <div class="logs" id="logBox"></div>
      </div>
    </div>
  </div>
</div>

<script>
const OWNER="PreVendasNDD";
const REPO="icomprova-pages-dispatch";

async function send(action){
  const mdfe=document.getElementById("mdfe").value;
  const cte=document.getElementById("cte").value;

  await fetch(`https://api.github.com/repos/${OWNER}/${REPO}/issues`,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({
      title:"icomprova",
      body: JSON.stringify({ action, mdfe, cte })
    })
  });
}
</script>

</body>
</html>
